<!DOCTYPE html>
<html>
<head>
	<title>API Testing</title>
	<style>
	</style>
</head>
<body>
<h1>Snake & Ladder Game</h1>
<div id="main">
<span id="curpos">0</span>
	<button id="click" onclick="updateCurPos()">Click Me</button>
	<div id="containerList"></div>
</div>

<script>
	var diceValue = 0;
	var curElement = document.getElementById('curpos');
	var curPos = curElement.innerHTML;
	
	var ladderObj = 
    {"0":"0","1":"0","2":"0","3":"0","4":"35","5":"0","6":"0","7":"0","8":"26","9":"0","10":"29","11":"0","12":"0","13":"50","14":"0","15":"0","16":"0","17":"0","18":"45","19":"0","20":"60","21":"0","22":"44","23":"0","24":"0","25":"0","26":"0","27":"0","28":"0","29":"0","30":"0","31":"0","32":"0","33":"0","34":"0","35":"0","36":"0","37":"0","38":"0","39":"0","40":"0","41":"0","42":"0","43":"77","44":"0","45":"0","46":"0","47":"0","48":"0","49":"91","50":"0","51":"0","52":"0","53":"0","54":"0","55":"85","56":"0","57":"0","58":"0","59":"0","60":"0","61":"0","62":"96","63":"0","64":"36","65":"0","66":"87","67":"0","68":"0","69":"33","70":"0","71":"0","72":"0","73":"2","74":"0","75":"0","76":"0","77":"0","78":"0","79":"0","80":"99","81":"0","82":"0","83":"19","84":"0","85":"0","86":"0","87":"0","88":"0","89":"0","90":"0","91":"0","92":"51","93":"0","94":"0","95":"24","96":"0","97":"0","98":"28","99":"0","100":"0"}
	
	function getDiceValue(){
		var value = 0;
		var count = 0;
		while(count != 3){

          var random = getRandomInt(6)+1;	
          //var random = 6;
          value = value + random;
          if(random == 6){

              count++;
          } else {
                  break; 
          }
		}
		
		if(value ==18){
			return 0;
		} else {
			return value;
		}
	}
	
	function updateCurPos(){
		diceValue = getDiceValue();
		if(diceValue != ""){
			var newPos = parseInt(curPos) + parseInt(diceValue);
            if(newPos <= 100 && newPos > 0){
              if(ladderObj[newPos] == 0){
                  console.log(curPos + '+' + diceValue + '-->' + newPos);
                  curPos = newPos;

              } else {
                  console.log(curPos + '+' + diceValue + '-->' + ladderObj[newPos]);
                  curPos = ladderObj[newPos];
              }
              checkWinner(curPos);
             }
		}
	}
    
function checkWinner(curPos) {
  if(curPos == 100){
	alert("Winner");
  	curElement.innerHTML = 0;
  } else {
    curElement.innerHTML = curPos;
  }
}

function getRandomInt(max) {
  return Math.floor(Math.random() * Math.floor(max));
}

</script>
</body>
</html>
